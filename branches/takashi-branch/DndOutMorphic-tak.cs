'From Squeak3.9alpha of 4 July 2005 [latest update: #7021] on 21 June 2007 at 2:35:13 pm'!"Change Set:		DndOutMorphic-takDate:			7 June 2007Author:			Takashi YamamiyaDrag out test script."!!HandMorph methodsFor: 'private events' stamp: 'tak 6/21/2007 12:10'!dragOut	| data aStream writer form |	data := self submorphs first getCharacters convertToEncoding: 'utf8'.	self primitiveDndOutStart: data dataFormat: 'UTF8_STRING'.	"((CursorWithAlpha extent: self submorphs first extent depth: 32) getCanvas fullDrawMorph: self submorphs first) form.	aStream := ByteArray new writeStream.	writer := PNGReadWriter on: aStream.	writer nextPutImage: form.	writer close.	self primitiveDndOutStart: aStream contents dataFormat: 'image/png'	"! !!HandMorph methodsFor: 'private events' stamp: 'tak 6/21/2007 12:09'!primitiveDndOutStart: aByteArray dataFormat: aFormat 	"self new primitiveDndOutStart: 'hello' asByteArray dataFormat: 'STRING'" 	<primitive: 'primitiveDndOutStart' module:'DropPlugin'>! !!HandMorph methodsFor: 'private events' stamp: 'tak 6/7/2007 21:58'!primitiveTriggerData: aByteArray dataFormat: aFormat 	"self new primitiveTriggerData: 'hello' asByteArray dataFormat: 'STRING'" 	<primitive: 'primitiveTriggerData' module:'DropPlugin'>! !!HandMorph methodsFor: 'private events' stamp: 'tak 6/7/2007 21:53'!sendMouseEvent: anEvent 	"Send the event to the morph currently holding the focus, or if none to	the owner of the hand."	| |	(ActiveWorld bounds containsPoint: anEvent position)		ifFalse: [self submorphs size > 0				ifTrue: [self dragOut]].	^ self		sendEvent: anEvent		focus: self mouseFocus		clear: [self mouseFocus: nil]! !