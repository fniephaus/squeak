'From Squeak3.9alpha of 4 July 2005 [latest update: #7021] on 7 June 2007 at 9:31:31 pm'!"Change Set:		DndOutMorphic-takDate:			7 June 2007Author:			Takashi YamamiyaDrag out test script."!!HandMorph methodsFor: 'private events' stamp: 'tak 6/6/2007 22:19'!primitiveTriggerData: aByteArray dataFormat: aFormat 	"self new primitiveTriggerData: 'hello' asByteArray dataFormat: 'STRING'" 	<primitive: 'primitiveTriggerData' module:'DropPlugin'>	^ self primitiveFailed ! !!HandMorph methodsFor: 'private events' stamp: 'tak 6/7/2007 21:25'!sendMouseEvent: anEvent 	"Send the event to the morph currently holding the focus, or if none to	the owner of the hand."	| aStream writer data |	(ActiveWorld bounds containsPoint: anEvent position)		ifFalse: [self submorphs size > 0				ifTrue: [data := self submorphs first getCharacters convertToEncoding: 'utf8'.					self primitiveTriggerData: data dataFormat: 'UTF8_STRING'.					[aStream := ByteArray new writeStream.					writer := PNGReadWriter on: aStream.					writer nextPutImage: self submorphs first imageForm.					writer close.					self primitiveTriggerData: aStream contents dataFormat: 'image/png']]].	^ self		sendEvent: anEvent		focus: self mouseFocus		clear: [self mouseFocus: nil]! !